import{_ as X}from"./HbAdminDemoCard.d2318ff1.js";import{_ as R}from"./index.30dcad89.js";import{b0 as e0,r as i,w as t0,o as z,aD as a0,f as A,g as m,h as s,ay as M,F as N,s as L,Z as x,l as n,ax as $,v as s0,k as _,i as p,N as l0,t as C,a2 as i0,b7 as y,x as o0}from"./vendor.f2dad3e6.js";import{u as n0}from"./index.390bc4bc.js";import"./xml.9e2794d0.js";const d0={class:"virtual-list-temp-box"},c0={props:{data:{type:Array,default:()=>[]}},setup(k){const v=k,{data:f}=e0(v);let c=i([]),l=i([]),u=i([]),d=i([]),b=i([]),r=i(null),D=i(null),V=200;const g=i(0),q=100,w=10;let B=-1;const j=i(0);let H=!1;function P(e){e&&d.value.push(e)}function U(e){return{offsetTop:0,itemHeight:0,rawData:e}}function Y(e){return e&&e.clientHeight}function Z(){return r.value.clientHeight}function I(){u.value.forEach((e,a)=>{const t=d.value[a],o=Y(t);e.itemHeight=o,e.offsetTop=g.value,g.value+=o,l.value.push(e)}),u.value=[],d.value=[]}async function S(){g.value=0,B=-1,l.value=[],c.value=f.value;for(let e=0;e<c.value.length;e++)u.value.push(U(c.value[e])),e%q===0&&await $(I),e+1===c.value.length&&await $(I)}function G(e){for(let a=0;a<l.value.length;a++)if(l.value[a].offsetTop>=e)return a;return 0}function J(e,a){const t=Z();for(let o=e;o<l.value.length;o++)if(l.value[o].offsetTop+l.value[o].itemHeight>=a+t)return o;return 0}function K(e,a){b.value=[];for(let t=e;t<a;t++)l.value[t]&&b.value.push(l.value[t])}function E(e){const a=e;let t=G(a),o=J(t,a);l.value.length!==0&&B!==t&&(B=t,K(t-w,o+w))}function O(){H=!0}let F=0;const h=i(!1),Q=n0(()=>{!h.value&&j.value>V&&(h.value=!0),j.value===0&&(h.value=!1)},10);function T(){if(H)return;const e=D.value.scrollTop;let a=e-F;F=e,j.value=Math.abs(a),Q(),requestAnimationFrame(()=>{T()})}function W(e){E(e.target.scrollTop)}return t0(f,async()=>{await S(),E(D.value.scrollTop)},{deep:!0}),z(async()=>{T(),await S(),E(0)}),a0(O),(e,a)=>(A(),m("div",{class:"hb-admin-virtual-list-com",ref_key:"container",ref:r},[s("div",{class:"virtual-list-placeholder",onScroll:W,ref_key:"listBox",ref:D},[s("div",{class:"virtual-list-scroll-box",style:M(`height:${g.value}px`)},[(A(!0),m(N,null,L(n(b),t=>(A(),m("div",{class:"virtual-list-item",style:M(`transform: translate3d(0, ${t.offsetTop}px, 0);`)},[h.value?x(e.$slots,"loading",{key:0},void 0,!0):x(e.$slots,"default",{key:1,item:t.rawData},void 0,!0)],4))),256))],4)],544),s("div",d0,[(A(!0),m(N,null,L(n(u),t=>(A(),m("div",{class:"virtual-list-item",ref_for:!0,ref:P},[x(e.$slots,"default",{item:t.rawData},void 0,!0)]))),256))])],512))}};var r0=R(c0,[["__scopeId","data-v-a5fdba5e"]]);const f0={style:{"margin-bottom":"10px"}},u0=o0("\u6DFB\u52A0\u6570\u636E"),p0={style:{"margin-bottom":"10px"}},A0={class:"list-demo"},m0={class:"user-card"},v0={class:"avatar"},b0={class:"text"},g0={class:"user-card"},h0={class:"avatar"},_0={class:"text"},C0={setup(k){const v=["https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg","https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg","https://fuss10.elemecdn.com/0/6f/e35ff375812e6b0020b6b4e8f9583jpeg.jpeg","https://fuss10.elemecdn.com/9/bb/e27858e973f5d7d3904835f46abbdjpeg.jpeg","https://fuss10.elemecdn.com/d/e6/c4d93a3805b3ce3f323f7974e6f78jpeg.jpeg","https://fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg","https://fuss10.elemecdn.com/2/11/6535bcfb26e4c79b48ddde44f4b6fjpeg.jpeg","https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg","https://fuss10.elemecdn.com/0/6f/e35ff375812e6b0020b6b4e8f9583jpeg.jpeg","https://fuss10.elemecdn.com/9/bb/e27858e973f5d7d3904835f46abbdjpeg.jpeg","https://fuss10.elemecdn.com/d/e6/c4d93a3805b3ce3f323f7974e6f78jpeg.jpeg","https://fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg"],f=i([]);function c(){for(let d=0;d<20;d++)f.value.push({avatar:v[d%v.length],name:"\u5F20\u4E09------"+d,age:(Math.random()*100+1).toFixed(0),score:(Math.random()*10+1).toFixed(2)})}z(c);const u=unescape("%3Cscript%20setup%3E%0Aimport%20%7B%20NSkeleton%2CNButton%2C%20NAvatar%7D%20from%20%27naive-ui%27%0Aimport%20%7BonMounted%2C%20ref%7D%20from%20%22vue%22%3B%0Aimport%20HbAdminVirtualList%20from%20%22@/components/HbAdminVirtualList%22%3B%0A%0Aconst%20pics%20%3D%20%5B%0A%20%20%27https%3A//fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg%27%2C%0A%20%20%27https%3A//fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg%27%2C%0A%20%20%27https%3A//fuss10.elemecdn.com/0/6f/e35ff375812e6b0020b6b4e8f9583jpeg.jpeg%27%2C%0A%20%20%27https%3A//fuss10.elemecdn.com/9/bb/e27858e973f5d7d3904835f46abbdjpeg.jpeg%27%2C%0A%20%20%27https%3A//fuss10.elemecdn.com/d/e6/c4d93a3805b3ce3f323f7974e6f78jpeg.jpeg%27%2C%0A%20%20%27https%3A//fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg%27%2C%0A%20%20%27https%3A//fuss10.elemecdn.com/2/11/6535bcfb26e4c79b48ddde44f4b6fjpeg.jpeg%27%2C%0A%20%20%27https%3A//fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg%27%2C%0A%20%20%27https%3A//fuss10.elemecdn.com/0/6f/e35ff375812e6b0020b6b4e8f9583jpeg.jpeg%27%2C%0A%20%20%27https%3A//fuss10.elemecdn.com/9/bb/e27858e973f5d7d3904835f46abbdjpeg.jpeg%27%2C%0A%20%20%27https%3A//fuss10.elemecdn.com/d/e6/c4d93a3805b3ce3f323f7974e6f78jpeg.jpeg%27%2C%0A%20%20%27https%3A//fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg%27%0A%5D%0Aconst%20list%20%3D%20ref%28%5B%5D%29%0A%0Afunction%20addData%28%29%7B%0A%20%20for%20%28let%20i%20%3D%200%3B%20i%20%3C%2020%3B%20i++%29%20%7B%0A%20%20%20%20list.value.push%28%7B%0A%20%20%20%20%20%20avatar%3A%20pics%5Bi%20%25%20pics.length%5D%2C%0A%20%20%20%20%20%20name%3A%20%22%u5F20%u4E09------%22%20+%20i%2C%0A%20%20%20%20%20%20age%3A%20%28Math.random%28%29%20*%20100%20+%201%29.toFixed%280%29%2C%0A%20%20%20%20%20%20score%3A%20%28Math.random%28%29%20*%2010%20+%201%29.toFixed%282%29%0A%20%20%20%20%7D%29%0A%20%20%7D%0A%7D%0A%0AonMounted%28addData%29%0A%0A%3C/script%3E%0A%3Ctemplate%3E%0A%20%20%3Cdiv%20style%3D%22margin-bottom%3A%2010px%22%3E%3Cn-button%20type%3D%22info%22%20@click%3D%22addData%22%3E%u6DFB%u52A0%u6570%u636E%3C/n-button%3E%3C/div%3E%0A%20%20%3Cdiv%20style%3D%22margin-bottom%3A%2010px%22%3E%u5217%u8868%u957F%u5EA6%20%7B%7Blist.length%7D%7D%3C/div%3E%0A%20%20%3Cdiv%20class%3D%22list-demo%22%3E%0A%20%20%20%20%3Chb-admin-virtual-list%20%3Adata%3D%22list%22%3E%0A%20%20%20%20%20%20%3Ctemplate%20v-slot%3Adefault%3D%22%7Bitem%7D%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22user-card%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22avatar%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-avatar%20size%3D%22large%22%20%3Asrc%3D%22item.avatar%22%20round%3E%3C/n-avatar%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%7B%7B%20item.name%20%7D%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%7B%7B%20item.age%20%7D%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%3E%7B%7B%20item.score%20%7D%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/template%3E%0A%20%20%20%20%20%20%3Ctemplate%20%23loading%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22user-card%22%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22avatar%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-skeleton%20circle%20size%3D%22large%22/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22text%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-skeleton%20text%20%3Arepeat%3D%222%22/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cn-skeleton%20text%20style%3D%22width%3A%2060%25%22/%3E%0A%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%3C/template%3E%0A%20%20%20%20%3C/hb-admin-virtual-list%3E%0A%20%20%3C/div%3E%0A%3C/template%3E%0A%3Cstyle%20scoped%3E%0A.list-demo%20%7B%0A%20%20height%3A%20500px%3B%0A%20%20width%3A%20300px%3B%0A%20%20border%3A%201px%20solid%20rgba%28128%2C%20128%2C%20128%2C%200.22%29%3B%0A%20%20border-radius%3A%203px%3B%0A%7D%0A%0A.avatar%20%7B%0A%20%20width%3A%2060px%3B%0A%20%20display%3A%20flex%3B%0A%20%20justify-content%3A%20center%3B%0A%20%20align-items%3A%20center%3B%0A%7D%0A%0A.text%20%7B%0A%20%20flex%3A%201%3B%0A%7D%0A%0A.user-card%20%7B%0A%20%20padding%3A%2010px%3B%0A%20%20box-sizing%3A%20border-box%3B%0A%20%20height%3A%2080px%3B%0A%20%20display%3A%20flex%3B%0A%20%20width%3A%20100%25%3B%0A%20%20border-bottom%3A%201px%20solid%20rgba%28128%2C%20128%2C%20128%2C%200.22%29%3B%0A%7D%0A%3C/style%3E%0A");return(d,b)=>(A(),s0(n(X),{title:"\u57FA\u672C\u7528\u6CD5",code:n(u)},{default:_(()=>[s("div",f0,[p(n(l0),{type:"info",onClick:c},{default:_(()=>[u0]),_:1})]),s("div",p0,"\u5217\u8868\u957F\u5EA6 "+C(f.value.length),1),s("div",A0,[p(n(r0),{data:f.value},{default:_(({item:r})=>[s("div",m0,[s("div",v0,[p(n(i0),{size:"large",src:r.avatar,round:""},null,8,["src"])]),s("div",b0,[s("div",null,C(r.name),1),s("div",null,C(r.age),1),s("div",null,C(r.score),1)])])]),loading:_(()=>[s("div",g0,[s("div",h0,[p(n(y),{circle:"",size:"large"})]),s("div",_0,[p(n(y),{text:"",repeat:2}),p(n(y),{text:"",style:{width:"60%"}})])])]),_:1},8,["data"])])]),_:1},8,["code"]))}};var y0=R(C0,[["__scopeId","data-v-13e76d5a"]]);export{y0 as default};
