import{D as f,E as x,r as d,o as _,ax as w,f as P,g as H,h as n,aL as I,a$ as b,i as y,k as S,l as v,Y as W,ay as k,F as B,B as C,C as N}from"./vendor.f2dad3e6.js";import{H as V}from"./HbAdminImagePreview.2edd0c7a.js";import{_ as A}from"./index.18a81aa8.js";const O=p=>(C("data-v-5902f36e"),p=p(),N(),p),$=["src"],D={class:"hb-img-prev"},E=O(()=>n("i",{class:"ri-eye-line"},null,-1)),F={props:{src:{type:String,default:""},prevSrc:{type:String,default:""},height:{type:Number,default:null},width:{type:Number,default:null},radius:{type:String,default:"0px"},isPreview:{type:Boolean,default:!1},crossOrigin:{type:Boolean,default:!1}},setup(p){const a=p;f(s=>({"925d68e4":v(g).textColor3}));const g=x(),u=d(),e=d();let l=0,o=0;function h(){const s=o/l,i=l/o;let t=l;a.height&&(t=a.height);let r=o;a.width&&(r=a.width),u.value.style.height=t+"px",u.value.style.width=r+"px";const c=r/t;o>r&&l<t?(e.value.style.setProperty("height",t+"px","important"),e.value.style.setProperty("width",t*s+"px","important")):o<r&&l>t?(e.value.style.setProperty("height",r*i+"px","important"),e.value.style.setProperty("width",r+"px","important")):s>1?s>c?(e.value.style.setProperty("height",t+"px","important"),e.value.style.setProperty("width",t*s+"px","important")):(e.value.style.setProperty("height",r*i+"px","important"),e.value.style.setProperty("width",r+"px","important")):(s<1,c>=1?(e.value.style.setProperty("height",r*i+"px","important"),e.value.style.setProperty("width",r+"px","important")):(e.value.style.setProperty("height",t+"px","important"),e.value.style.setProperty("width",t*s+"px","important")))}const m=d(!1);return _(()=>{const s=new Image;a.crossOrigin&&(s.crossOrigin="Anonymous"),s.src=a.src,s.complete?(l=e.value.naturalHeight,o=e.value.naturalWidth,h()):(e.value.src="images/no-img.png",w(()=>{s.onload=()=>{e.value.src=a.src,l=e.value.offsetHeight,o=e.value.offsetWidth,h()},s.onerror=()=>{e.value.src="images/no-img.png",l=e.value.offsetHeight,o=e.value.offsetWidth,h()}}))}),(s,i)=>(P(),H(B,null,[n("div",{ref_key:"HbImgWrap",ref:u,class:"hb-img-wrap",style:k(`border-radius: ${a.radius};`)},[n("img",{ref_key:"HbImg",ref:e,class:"hb-img",src:p.src},null,8,$),I(n("div",D,[y(v(W),{style:{cursor:"pointer"},onClick:i[0]||(i[0]=t=>m.value=!0)},{default:S(()=>[E]),_:1})],512),[[b,a.isPreview]])],4),y(v(V),{value:m.value,"onUpdate:value":i[1]||(i[1]=t=>m.value=t),list:[a.prevSrc||a.src]},null,8,["value","list"])],64))}};var M=A(F,[["__scopeId","data-v-5902f36e"]]);export{M as H};
