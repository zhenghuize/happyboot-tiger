import{_ as R}from"./index.d03b31d1.js";import{r as d,w as $,au as D,o as J,f as _,g as y,h as a,F as P,s as V,aK as Q,A as E,B as Y,C as X,i as p,k as b,l as g,$ as Z,Y as ee,m as M,n as te,z as se,x as le}from"./vendor.366f140f.js";import{H as ae}from"./HbAdminPageLayout.645ba311.js";const I=o=>(Y("data-v-71f0c612"),o=o(),X(),o),ne=["src"],ie=["onClick"],oe=["src"],ce=I(()=>a("i",{class:"ri-anticlockwise-line"},null,-1)),re=[ce],ue=I(()=>a("i",{class:"ri-arrow-left-s-line"},null,-1)),de=[ue],fe=I(()=>a("i",{class:"ri-aspect-ratio-line"},null,-1)),pe=[fe],ve=I(()=>a("i",{class:"ri-arrow-right-s-line"},null,-1)),me=[ve],he=I(()=>a("i",{class:"ri-clockwise-line"},null,-1)),be=[he],ge=I(()=>a("i",{class:"ri-close-line"},null,-1)),_e=[ge],ye={props:{value:{type:Boolean,default:!1},isThumb:{type:Boolean,default:!1},list:{type:Array,default:()=>[]},initialIndex:{type:Number,default:0}},emits:["update:value"],setup(o,{emit:j}){const s=o,c=d(!1);c.value=s.value;const n=d(0);n.value=s.initialIndex;let v=0,m=0,r={x:0,y:0},l={x:1,y:1},h=0,N=0,k=0;const x={x:0,y:0};let C=!1;$(()=>s.value,()=>{c.value=s.value,c.value&&D(()=>{B()})}),$(c,()=>{j("update:value",c.value)}),$(()=>s.initialIndex,()=>{n.value=s.initialIndex}),$(n,()=>{s.isThumb&&D(()=>{const e=W.value;e&&(e.scrollLeft=(n.value-1)*100)})});function H(e){const t=[parseInt(e.style.left+0),parseInt(e.style.top+0)];return{x:t[0],y:t[1]}}function w(e,t="fit"){const i=new Image;i.src=s.list[n.value],i.complete?L(i,e,t):i.onload=()=>{L(i,e,t)}}function L(e,t,i){const f=e.naturalWidth,T=e.naturalHeight,G=f/T;i==="fit"?(v=Math.ceil(k*G/2),m=Math.ceil(k/2)):i==="original"&&(v=f,m=T),t.style.width=v+"px",t.style.height=m+"px",t.style.left=Math.ceil((N-v)/2)+"px",t.style.top=Math.ceil((k-m)/2)+"px",l={x:1,y:1},h=0,t.style.transform="scale(1) rotate(0deg)"}function B(){if(s.list.length>0){const e=u.value;if(e){if(N=e.parentNode.offsetWidth,k=e.parentNode.offsetHeight,w(e),s.isThumb){const t=A.value;t.style.width=s.list.length*100+"px"}e.addEventListener("mousedown",t=>{t.preventDefault(),r=H(e),x.x=t.clientX,x.y=t.clientY,C=!0}),e.addEventListener("mousemove",t=>{if(t.preventDefault(),C){document.body.style.cursor="move";const i=r.x+t.clientX-x.x,f=r.y+t.clientY-x.y;e.style.transition="none",e.style.left=i+"px",e.style.top=f+"px",x.x=t.clientX,x.y=t.clientY,r=H(e)}}),e.addEventListener("mouseup",t=>{t.preventDefault(),document.body.style.cursor="default",C=!1,e.style.transition="all .3s"}),S.value.addEventListener("wheel",t=>{(t.wheelDelta>0||t.detail>0)&&l.x<1.9&&(l.x+=.1,l.y+=.1),(t.wheelDelta<0||t.detail<0)&&l.x>.4&&(l.x-=.1,l.y-=.1),e.style.transform=`scale(${l.x},${l.y}) rotate(${h}deg)`,r=H(e)})}}else c.value=!1}function z(e){const t=u.value;t.style.transition="none",n.value=e,l={x:1,y:1},h=0,u.value.style.transform="scale(1) rotate(0deg)",setTimeout(()=>{t.style.transition="all .3s"},30)}function F(){n.value>0?n.value--:n.value=s.list.length-1;const e=u.value;e.style.transition="none",w(e),setTimeout(()=>{e.style.transition="all .3s"},30)}function K(){n.value<s.list.length-1?n.value++:n.value=0;const e=u.value;e.style.transition="none",w(e),setTimeout(()=>{e.style.transition="all .3s"},30)}function O(){const e=u.value;w(e,"original"),e.style.transform=`scale(${l.x},${l.y}) rotate(${h}deg)`}function U(){const e=u.value;e.style.transform=`scale(${l.x},${l.y}) rotate(${h-=90}deg)`}function q(){const e=u.value;e.style.transform=`scale(${l.x},${l.y}) rotate(${h+=90}deg)`}J(()=>{B()});const S=d(),u=d(),W=d(),A=d();return(e,t)=>c.value?(_(),y("div",{key:0,ref_key:"HbPrevWrap",ref:S,class:"hb-prev-wrap"},[a("img",{ref_key:"HbPrevImg",ref:u,class:"hb-prev-img",alt:"\u9884\u89C8\u56FE",src:o.list[n.value]},null,8,ne),s.isThumb?(_(),y("div",{key:0,ref_key:"HbPrevThumbBox",ref:W,class:"hb-prev-thumb-box"},[a("div",{ref_key:"HbPrevThumb",ref:A,class:"hb-prev-thumb-list"},[(_(!0),y(P,null,V(s.list,(i,f)=>(_(),y("div",{key:f,class:Q(["hb-prev-thumb-item",n.value===f?"hb-prev-thumb-item-active":""]),onClick:T=>z(f)},[a("img",{class:"hb-prev-thumb-img",src:i},null,8,oe)],10,ie))),128))],512)],512)):E("",!0),a("div",{class:"hb-prev-bar"},[a("div",{class:"hb-prev-btn",title:"\u5411\u5DE6\u65CB\u8F6C",onClick:U},re),a("div",{class:"hb-prev-btn",title:"\u524D\u4E00\u5F20",onClick:F},de),a("div",{class:"hb-prev-btn",title:"\u56FE\u7247\u539F\u59CB\u5927\u5C0F",onClick:O},pe),a("div",{class:"hb-prev-btn",title:"\u540E\u4E00\u5F20",onClick:K},me),a("div",{class:"hb-prev-btn",title:"\u5411\u53F3\u65CB\u8F6C",onClick:q},be)]),a("div",{class:"hb-prev-close",onClick:t[0]||(t[0]=i=>c.value=!1)},_e)],512)):E("",!0)}};var xe=R(ye,[["__scopeId","data-v-71f0c612"]]);const Ie=o=>(Y("data-v-5c770f05"),o=o(),X(),o),je=Ie(()=>a("h2",null,"\u56FE\u7247\u9884\u89C8\u7EC4\u4EF6",-1)),ke=le(" \u4F20\u5165\u4E00\u4E2A\u56FE\u7247\u6570\u7EC4\u5373\u53EF\uFF0C\u652F\u6301\u9884\u89C8\u56FE\u5217\u8868\uFF0C\u70B9\u51FB\u56FE\u7247\u9884\u89C8 "),we=["src","onClick"],$e={setup(o){const j=d(["https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg","https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg","https://fuss10.elemecdn.com/0/6f/e35ff375812e6b0020b6b4e8f9583jpeg.jpeg","https://fuss10.elemecdn.com/9/bb/e27858e973f5d7d3904835f46abbdjpeg.jpeg","https://fuss10.elemecdn.com/d/e6/c4d93a3805b3ce3f323f7974e6f78jpeg.jpeg","https://fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg","https://fuss10.elemecdn.com/2/11/6535bcfb26e4c79b48ddde44f4b6fjpeg.jpeg","https://fuss10.elemecdn.com/1/34/19aa98b1fcb2781c4fba33d850549jpeg.jpeg","https://fuss10.elemecdn.com/0/6f/e35ff375812e6b0020b6b4e8f9583jpeg.jpeg","https://fuss10.elemecdn.com/9/bb/e27858e973f5d7d3904835f46abbdjpeg.jpeg","https://fuss10.elemecdn.com/d/e6/c4d93a3805b3ce3f323f7974e6f78jpeg.jpeg","https://fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg"]),s=d(!1),c=d(0);function n(v){s.value=!0,c.value=v}return(v,m)=>(_(),y(P,null,[p(ae,null,{default:b(()=>[p(g(Z),{style:{padding:"20px"}},{default:b(()=>[p(g(ee),null,{default:b(()=>[p(g(M),{vertical:""},{default:b(()=>[je,p(g(te),{type:"info"},{default:b(()=>[ke]),_:1}),p(g(se),null,{default:b(()=>[p(g(M),null,{default:b(()=>[(_(!0),y(P,null,V(j.value,(r,l)=>(_(),y("img",{class:"image",src:r,onClick:h=>n(l)},null,8,we))),256))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),p(g(xe),{value:s.value,"onUpdate:value":m[0]||(m[0]=r=>s.value=r),list:j.value,isThumb:"","initial-index":c.value},null,8,["value","list","initial-index"])],64))}};var Pe=R($e,[["__scopeId","data-v-5c770f05"]]);export{Pe as default};
