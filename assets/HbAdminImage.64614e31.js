import{D as f,E as x,r as v,o as w,aw as _,f as P,g as H,h as n,aL as b,a$ as I,i as y,k as S,l as c,Z as W,aA as k,F as B,B as A,C}from"./vendor.794a9992.js";import{H as N}from"./HbAdminImagePreview.35482636.js";import{_ as V}from"./index.1ed9fa6d.js";const O=p=>(A("data-v-7ae5de6b"),p=p(),C(),p),$=["src"],D={class:"hb-img-prev"},E=O(()=>n("i",{class:"ri-eye-line"},null,-1)),F={props:{src:{type:String,default:""},prevSrc:{type:String,default:""},height:{type:Number,default:null},width:{type:Number,default:null},radius:{type:String,default:"0px"},isPreview:{type:Boolean,default:!1},crossOrigin:{type:Boolean,default:!1}},setup(p){const a=p;f(s=>({"48e1f55a":c(g).textColor3}));const g=x(),u=v(),e=v();let l=0,o=0;function h(){let s=o/l,i=l/o,t=l;a.height&&(t=a.height);let r=o;a.width&&(r=a.width),u.value.style.height=t+"px",u.value.style.width=r+"px";let m=r/t;o>r&&l<t?(e.value.style.setProperty("height",t+"px","important"),e.value.style.setProperty("width",t*s+"px","important")):o<r&&l>t?(e.value.style.setProperty("height",r*i+"px","important"),e.value.style.setProperty("width",r+"px","important")):s>1?s>m?(e.value.style.setProperty("height",t+"px","important"),e.value.style.setProperty("width",t*s+"px","important")):(e.value.style.setProperty("height",r*i+"px","important"),e.value.style.setProperty("width",r+"px","important")):(s<1,m>=1?(e.value.style.setProperty("height",r*i+"px","important"),e.value.style.setProperty("width",r+"px","important")):(e.value.style.setProperty("height",t+"px","important"),e.value.style.setProperty("width",t*s+"px","important")))}const d=v(!1);return w(()=>{let s=new Image;a.crossOrigin&&(s.crossOrigin="Anonymous"),s.src=a.src,s.complete?(l=e.value.naturalHeight,o=e.value.naturalWidth,h()):(e.value.src="images/no-img.png",_(()=>{s.onload=()=>{e.value.src=a.src,l=e.value.offsetHeight,o=e.value.offsetWidth,h()},s.onerror=()=>{e.value.src="images/no-img.png",l=e.value.offsetHeight,o=e.value.offsetWidth,h()}}))}),(s,i)=>(P(),H(B,null,[n("div",{ref_key:"HbImgWrap",ref:u,class:"hb-img-wrap",style:k(`border-radius: ${a.radius};`)},[n("img",{ref_key:"HbImg",ref:e,class:"hb-img",src:p.src},null,8,$),b(n("div",D,[y(c(W),{style:{cursor:"pointer"},onClick:i[0]||(i[0]=t=>d.value=!0)},{default:S(()=>[E]),_:1})],512),[[I,a.isPreview]])],4),y(c(N),{value:d.value,"onUpdate:value":i[1]||(i[1]=t=>d.value=t),list:[a.prevSrc||a.src]},null,8,["value","list"])],64))}};var M=V(F,[["__scopeId","data-v-7ae5de6b"]]);export{M as H};
