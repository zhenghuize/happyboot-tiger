import{_ as L}from"./index.18a81aa8.js";import{e as D,r as u,o as P,f as a,g as i,h as s,_ as S,A as _,t as k,i as $,l as x,$ as w,B as U,C as z}from"./vendor.f2dad3e6.js";const T=c=>(U("data-v-40fcf802"),c=c(),z(),c),F=["src"],R={key:0,class:"ri-disc-line"},j={key:1,class:"ri-volume-off-vibrate-line"},q={key:1,class:"hb-voice-wrap"},G=T(()=>s("i",{class:"ri-volume-down-line"},null,-1)),J=T(()=>s("i",{class:"ri-volume-up-line"},null,-1)),K=[G,J],O={class:"hb-voice-text"},Q={class:"hb-restart-box"},W={key:2,class:"hb-controls-wrap"},X={class:"hb-controls-btn"},Y={class:"hb-controls-content"},Z={class:"hb-controls-time"},ee={class:"hb-controls-voice"},le={class:"hb-controls-icon"},oe={class:"hb-controls-icon-volume"},te={class:"hb-controls-volume"},se={props:{url:{type:String,default:""},type:{type:String,default:"controls"}},setup(c){const d=c,B=D(),n=u(!1),r=u(0),v=u(0),f=u(0);function I(e){f.value=e,t.value.currentTime=r.value*e/100}function C(e){return e+"%"}const t=u();function N(){d.url?(v.value=0,t.value.oncanplay=()=>{r.value=Math.ceil(t.value.duration),t.value.addEventListener("timeupdate",()=>{v.value=Math.ceil(t.value.currentTime),r.value>0&&(f.value=Math.floor(v.value/r.value*100))}),t.value.addEventListener("ended",()=>{b.value||(n.value=!1)})}):B.error("\u97F3\u9891\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A\uFF01")}function V(e=0){if(e>60){const l=Math.floor(e/60);let o=e%60;return o<10&&(o="0"+o),l+"'"+o+'"'}else return e+'"'}function g(e=0){if(e>60){const l=Math.floor(e/60);let o=e%60;return o<10&&(o="0"+o),l+":"+o}else{let l=e;return e<10?l="0:0"+l:l="0:"+l,l}}P(()=>{N()});function m(){t.value.play(),n.value=!0}function y(){t.value.pause(),n.value=!1}function E(){t.value.currentTime=0,v.value=r.value}const b=u(!1);function A(e){b.value=e,t.value.loop=e}const p=u(!1);function M(e){e?h.value=0:h.value=t.value.volume*100,p.value=e,t.value.muted=e}const h=u(100);function H(e){e>0?(p.value=!1,t.value.muted=!1):(p.value=!0,t.value.muted=!0),t.value.volume=e/100}return(e,l)=>(a(),i("div",null,[s("audio",{ref_key:"hbAudio",ref:t,src:d.url,hidden:"true"},null,8,F),d.type==="simple"?(a(),i("div",{key:0,class:S(["hb-simple-btn",n.value?"hb-simple-rotate":""]),onClick:l[0]||(l[0]=o=>n.value?y():m())},[n.value?(a(),i("i",R)):(a(),i("i",j))],2)):_("v-if",!0),d.type==="voice"?(a(),i("div",q,[s("div",{class:"hb-voice-btn",onClick:l[1]||(l[1]=o=>n.value?y():m())},[s("div",{class:S(n.value?"hb-volume-change":"hb-voice-icon")},K,2),s("div",O,k(V(v.value)),1)]),s("div",Q,[!n.value||v.value===r.value?(a(),i("i",{key:0,class:"ri-restart-line hb-restart",title:"\u91CD\u65B0\u64AD\u653E",onClick:E})):_("v-if",!0)])])):_("v-if",!0),d.type==="controls"?(a(),i("div",W,[s("div",X,[n.value?(a(),i("i",{key:0,class:"ri-pause-fill",onClick:y})):(a(),i("i",{key:1,class:"ri-play-fill",onClick:m}))]),s("div",Y,[$(x(w),{value:f.value,"onUpdate:value":[l[2]||(l[2]=o=>f.value=o),I],"format-tooltip":C},null,8,["value"]),s("div",Z,k(g(v.value))+" / "+k(g(r.value)),1)]),s("div",ee,[s("div",le,[b.value?(a(),i("i",{key:1,class:"ri-refresh-line",title:"\u5FAA\u73AF",onClick:l[4]||(l[4]=o=>A(!1))})):(a(),i("i",{key:0,class:"ri-refresh-fill",title:"\u4E0D\u5FAA\u73AF",onClick:l[3]||(l[3]=o=>A(!0))}))]),s("div",oe,[p.value?(a(),i("i",{key:0,class:"ri-volume-mute-line",title:"\u7981\u97F3",onClick:l[5]||(l[5]=o=>M(!1))})):(a(),i("i",{key:1,class:"ri-volume-up-line",onClick:l[6]||(l[6]=o=>M(!0))})),s("div",te,[$(x(w),{value:h.value,"onUpdate:value":[l[7]||(l[7]=o=>h.value=o),H],"format-tooltip":C},null,8,["value"])])])])])):_("v-if",!0)]))}};var ne=L(se,[["__scopeId","data-v-40fcf802"]]);export{ne as H};
