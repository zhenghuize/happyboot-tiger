import{D as f,E as x,r as v,o as _,az as w,f as P,g as H,h as n,aK as b,a_ as I,i as y,k as S,l as c,Z as W,aD as k,F as B,B as C,C as N}from"./vendor.e1dacb25.js";import{H as V}from"./HbAdminImagePreview.b9bba0cf.js";import{_ as A}from"./index.41e81d9a.js";const D=p=>(C("data-v-7ae5de6b"),p=p(),N(),p),O=["src"],z={class:"hb-img-prev"},E=D(()=>n("i",{class:"ri-eye-line"},null,-1)),F={props:{src:{type:String,default:""},prevSrc:{type:String,default:""},height:{type:Number,default:null},width:{type:Number,default:null},radius:{type:String,default:"0px"},isPreview:{type:Boolean,default:!1},crossOrigin:{type:Boolean,default:!1}},setup(p){const a=p;f(s=>({"48e1f55a":c(g).textColor3}));const g=x(),u=v(),e=v();let l=0,o=0;function h(){let s=o/l,i=l/o,t=l;a.height&&(t=a.height);let r=o;a.width&&(r=a.width),u.value.style.height=t+"px",u.value.style.width=r+"px";let m=r/t;o>r&&l<t?(e.value.style.setProperty("height",t+"px","important"),e.value.style.setProperty("width",t*s+"px","important")):o<r&&l>t?(e.value.style.setProperty("height",r*i+"px","important"),e.value.style.setProperty("width",r+"px","important")):s>1?s>m?(e.value.style.setProperty("height",t+"px","important"),e.value.style.setProperty("width",t*s+"px","important")):(e.value.style.setProperty("height",r*i+"px","important"),e.value.style.setProperty("width",r+"px","important")):(s<1,m>=1?(e.value.style.setProperty("height",r*i+"px","important"),e.value.style.setProperty("width",r+"px","important")):(e.value.style.setProperty("height",t+"px","important"),e.value.style.setProperty("width",t*s+"px","important")))}const d=v(!1);return _(()=>{let s=new Image;a.crossOrigin&&(s.crossOrigin="Anonymous"),s.src=a.src,s.complete?(l=e.value.naturalHeight,o=e.value.naturalWidth,h()):(e.value.src="images/no-img.png",w(()=>{s.onload=()=>{e.value.src=a.src,l=e.value.offsetHeight,o=e.value.offsetWidth,h()},s.onerror=()=>{e.value.src="images/no-img.png",l=e.value.offsetHeight,o=e.value.offsetWidth,h()}}))}),(s,i)=>(P(),H(B,null,[n("div",{ref_key:"HbImgWrap",ref:u,class:"hb-img-wrap",style:k(`border-radius: ${a.radius};`)},[n("img",{ref_key:"HbImg",ref:e,class:"hb-img",src:p.src},null,8,O),b(n("div",z,[y(c(W),{style:{cursor:"pointer"},onClick:i[0]||(i[0]=t=>d.value=!0)},{default:S(()=>[E]),_:1})],512),[[I,a.isPreview]])],4),y(c(V),{value:d.value,"onUpdate:value":i[1]||(i[1]=t=>d.value=t),list:[a.prevSrc||a.src]},null,8,["value","list"])],64))}};var M=A(F,[["__scopeId","data-v-7ae5de6b"]]);export{M as H};
