import{D as L,E as P,e as U,r,o as z,f as a,g as i,h as s,_ as $,A as _,t as g,i as T,l as f,$ as w,B as F,C as R}from"./vendor.9a5280d9.js";import{_ as j}from"./index.a04f89fd.js";const B=c=>(F("data-v-c97a75a0"),c=c(),R(),c),q=["src"],G={key:0,class:"ri-disc-line"},J={key:1,class:"ri-volume-off-vibrate-line"},K={key:1,class:"hb-voice-wrap"},O=B(()=>s("i",{class:"ri-volume-down-line"},null,-1)),Q=B(()=>s("i",{class:"ri-volume-up-line"},null,-1)),W=[O,Q],X={class:"hb-voice-text"},Y={class:"hb-restart-box"},Z={key:2,class:"hb-controls-wrap"},ee={class:"hb-controls-btn"},le={class:"hb-controls-content"},te={class:"hb-controls-time"},oe={class:"hb-controls-voice"},se={class:"hb-controls-icon"},ae={class:"hb-controls-icon-volume"},ie={class:"hb-controls-volume"},ne={props:{url:{type:String,default:""},type:{type:String,default:"controls"}},setup(c){const d=c;L(e=>({c9d4f78e:f(b).textColor3,c9d4f790:f(b).textColor2,"7e421f7d":f(b).buttonColor2}));const b=P(),E=U(),n=r(!1),v=r(0),u=r(0),p=r(0);function I(e){p.value=e,o.value.currentTime=v.value*e/100}function x(e){return e+"%"}const o=r();function N(){d.url?(u.value=0,o.value.oncanplay=()=>{v.value=Math.ceil(o.value.duration),o.value.addEventListener("timeupdate",()=>{u.value=Math.ceil(o.value.currentTime),v.value>0&&(p.value=Math.floor(u.value/v.value*100))}),o.value.addEventListener("ended",()=>{C.value||(n.value=!1)})}):E.error("\u97F3\u9891\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A\uFF01")}function A(e=0){if(e>60){const l=Math.floor(e/60);let t=e%60;return t<10&&(t="0"+t),l+"'"+t+'"'}else return e+'"'}function M(e=0){if(e>60){const l=Math.floor(e/60);let t=e%60;return t<10&&(t="0"+t),l+":"+t}else{let l=e;return e<10?l="0:0"+l:l="0:"+l,l}}z(()=>{N()});function y(){o.value.play(),n.value=!0}function k(){o.value.pause(),n.value=!1}function D(){o.value.currentTime=0,u.value=v.value}const C=r(!1);function S(e){C.value=e,o.value.loop=e}const h=r(!1);function V(e){e?m.value=0:m.value=o.value.volume*100,h.value=e,o.value.muted=e}const m=r(100);function H(e){e>0?(h.value=!1,o.value.muted=!1):(h.value=!0,o.value.muted=!0),o.value.volume=e/100}return(e,l)=>(a(),i("div",null,[s("audio",{ref_key:"hbAudio",ref:o,src:d.url,hidden:"true"},null,8,q),d.type==="simple"?(a(),i("div",{key:0,class:$(["hb-simple-btn",n.value?"hb-simple-rotate":""]),onClick:l[0]||(l[0]=t=>n.value?k():y())},[n.value?(a(),i("i",G)):(a(),i("i",J))],2)):_("v-if",!0),d.type==="voice"?(a(),i("div",K,[s("div",{class:"hb-voice-btn",onClick:l[1]||(l[1]=t=>n.value?k():y())},[s("div",{class:$(n.value?"hb-volume-change":"hb-voice-icon")},W,2),s("div",X,g(u.value===0?A(v.value):A(u.value)),1)]),s("div",Y,[!n.value&&u.value!==0?(a(),i("i",{key:0,class:"ri-restart-line hb-restart",title:"\u91CD\u65B0\u64AD\u653E",onClick:D})):_("v-if",!0)])])):_("v-if",!0),d.type==="controls"?(a(),i("div",Z,[s("div",ee,[n.value?(a(),i("i",{key:0,class:"ri-pause-fill",onClick:k})):(a(),i("i",{key:1,class:"ri-play-fill",onClick:y}))]),s("div",le,[T(f(w),{value:p.value,"onUpdate:value":[l[2]||(l[2]=t=>p.value=t),I],"format-tooltip":x},null,8,["value"]),s("div",te,g(M(u.value))+" / "+g(M(v.value)),1)]),s("div",oe,[s("div",se,[C.value?(a(),i("i",{key:1,class:"ri-refresh-line",title:"\u5FAA\u73AF",onClick:l[4]||(l[4]=t=>S(!1))})):(a(),i("i",{key:0,class:"ri-refresh-fill",title:"\u4E0D\u5FAA\u73AF",onClick:l[3]||(l[3]=t=>S(!0))}))]),s("div",ae,[h.value?(a(),i("i",{key:0,class:"ri-volume-mute-line",title:"\u7981\u97F3",onClick:l[5]||(l[5]=t=>V(!1))})):(a(),i("i",{key:1,class:"ri-volume-up-line",onClick:l[6]||(l[6]=t=>V(!0))})),s("div",ie,[T(f(w),{value:m.value,"onUpdate:value":[l[7]||(l[7]=t=>m.value=t),H],"format-tooltip":x},null,8,["value"])])])])])):_("v-if",!0)]))}};var ve=j(ne,[["__scopeId","data-v-c97a75a0"]]);export{ve as H};
