import{D as L,E as P,e as U,r as u,o as z,f as a,g as i,h as o,_ as x,A as m,t as k,i as V,l as C,$,B as F,C as R}from"./vendor.9a5280d9.js";import{_ as j}from"./index.43a1497f.js";const T=c=>(F("data-v-286527c0"),c=c(),R(),c),q=["src"],G={key:0,class:"ri-disc-line"},J={key:1,class:"ri-volume-off-vibrate-line"},K={key:1,class:"hb-voice-wrap"},O=T(()=>o("i",{class:"ri-volume-down-line"},null,-1)),Q=T(()=>o("i",{class:"ri-volume-up-line"},null,-1)),W=[O,Q],X={class:"hb-voice-text"},Y={class:"hb-restart-box"},Z={key:2,class:"hb-controls-wrap"},ee={class:"hb-controls-btn"},le={class:"hb-controls-content"},se={class:"hb-controls-time"},te={class:"hb-controls-voice"},oe={class:"hb-controls-icon"},ae={class:"hb-controls-icon-volume"},ie={class:"hb-controls-volume"},ne={props:{url:{type:String,default:""},type:{type:String,default:"controls"}},setup(c){const d=c;L(e=>({"604a9127":C(w).buttonColor2}));const w=P(),B=U(),n=u(!1),r=u(0),v=u(0),f=u(0);function E(e){f.value=e,t.value.currentTime=r.value*e/100}function g(e){return e+"%"}const t=u();function I(){d.url?(v.value=0,t.value.oncanplay=()=>{r.value=Math.ceil(t.value.duration),t.value.addEventListener("timeupdate",()=>{v.value=Math.ceil(t.value.currentTime),r.value>0&&(f.value=Math.floor(v.value/r.value*100))}),t.value.addEventListener("ended",()=>{y.value||(n.value=!1)})}):B.error("\u97F3\u9891\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A\uFF01")}function N(e=0){if(e>60){const l=Math.floor(e/60);let s=e%60;return s<10&&(s="0"+s),l+"'"+s+'"'}else return e+'"'}function A(e=0){if(e>60){const l=Math.floor(e/60);let s=e%60;return s<10&&(s="0"+s),l+":"+s}else{let l=e;return e<10?l="0:0"+l:l="0:"+l,l}}z(()=>{I()});function _(){t.value.play(),n.value=!0}function b(){t.value.pause(),n.value=!1}function D(){t.value.currentTime=0,v.value=r.value}const y=u(!1);function M(e){y.value=e,t.value.loop=e}const p=u(!1);function S(e){e?h.value=0:h.value=t.value.volume*100,p.value=e,t.value.muted=e}const h=u(100);function H(e){e>0?(p.value=!1,t.value.muted=!1):(p.value=!0,t.value.muted=!0),t.value.volume=e/100}return(e,l)=>(a(),i("div",null,[o("audio",{ref_key:"hbAudio",ref:t,src:d.url,hidden:"true"},null,8,q),d.type==="simple"?(a(),i("div",{key:0,class:x(["hb-simple-btn",n.value?"hb-simple-rotate":""]),onClick:l[0]||(l[0]=s=>n.value?b():_())},[n.value?(a(),i("i",G)):(a(),i("i",J))],2)):m("v-if",!0),d.type==="voice"?(a(),i("div",K,[o("div",{class:"hb-voice-btn",onClick:l[1]||(l[1]=s=>n.value?b():_())},[o("div",{class:x(n.value?"hb-volume-change":"hb-voice-icon")},W,2),o("div",X,k(N(v.value)),1)]),o("div",Y,[!n.value||v.value===r.value?(a(),i("i",{key:0,class:"ri-restart-line hb-restart",title:"\u91CD\u65B0\u64AD\u653E",onClick:D})):m("v-if",!0)])])):m("v-if",!0),d.type==="controls"?(a(),i("div",Z,[o("div",ee,[n.value?(a(),i("i",{key:0,class:"ri-pause-fill",onClick:b})):(a(),i("i",{key:1,class:"ri-play-fill",onClick:_}))]),o("div",le,[V(C($),{value:f.value,"onUpdate:value":[l[2]||(l[2]=s=>f.value=s),E],"format-tooltip":g},null,8,["value"]),o("div",se,k(A(v.value))+" / "+k(A(r.value)),1)]),o("div",te,[o("div",oe,[y.value?(a(),i("i",{key:1,class:"ri-refresh-line",title:"\u5FAA\u73AF",onClick:l[4]||(l[4]=s=>M(!1))})):(a(),i("i",{key:0,class:"ri-refresh-fill",title:"\u4E0D\u5FAA\u73AF",onClick:l[3]||(l[3]=s=>M(!0))}))]),o("div",ae,[p.value?(a(),i("i",{key:0,class:"ri-volume-mute-line",title:"\u7981\u97F3",onClick:l[5]||(l[5]=s=>S(!1))})):(a(),i("i",{key:1,class:"ri-volume-up-line",onClick:l[6]||(l[6]=s=>S(!0))})),o("div",ie,[V(C($),{value:h.value,"onUpdate:value":[l[7]||(l[7]=s=>h.value=s),H],"format-tooltip":g},null,8,["value"])])])])])):m("v-if",!0)]))}};var ve=j(ne,[["__scopeId","data-v-286527c0"]]);export{ve as H};
